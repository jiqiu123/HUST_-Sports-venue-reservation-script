# 预约场地

网址：https://pecg.hust.edu.cn/wescms/


网页中场馆信息：

```
VENUE_MAP = {
    # 室内场地
    "光谷体育馆_主馆羽毛球": "45",
    "光谷体育馆_乒乓球": "122",
    "西区体育馆_羽毛球": "69",
    "西区体育馆_乒乓球": "124",
    "游泳馆_游泳池": "96",
    "游泳馆_二楼羽毛球": "117",
    # 室外场地
    "东区操场_韵苑网球1": "74",
    "东区操场_匹克球": "127",
    "东区操场_韵苑网球2": "130",
    "中心区操场_沁苑网球1": "73",
    "中心区操场_沙地网球1": "75",
    "中心区操场_沙地网球2": "128",
    "中心区操场_沁苑网球2": "129",
    "西区操场_西边网球1": "72",
    "西区操场_西边网球2": "131",
}
```


各场馆中场地信息：

```
西区体育馆_羽毛球
fallback_ids = ['584', '300', '299', '298', '297', '301', '134', '295', '296'] # 西区羽毛球常见ID

光谷体育馆_主馆羽毛球
fallback_ids = ['110', '133', '215', '216', '218', '376', '217', '219', '220','221','222','223','224','368','369','370','377','371','372','373','374','375'] 

东区操场&nbsp;匹克球场.html
fallback_ids =['651', '652', '653', '654', '655', '656', '657', '658']

东区操场&nbsp;韵苑网球场1小时场.html
fallback_ids =['662', '663', '664', '665']

中心区操场&nbsp;沁苑网球场1小时场.html
fallback_ids =['660', '661']

中心区操场&nbsp;沁苑网球场2小时场.html
fallback_ids =['315', '317', '322']

中心区操场&nbsp;沙地网球场1小时场.html
fallback_ids =['659', '668']

中心区操场&nbsp;沙地网球场2小时场.html
fallback_ids =['318']

光谷体育馆&nbsp;乒乓球场2（网上）.html
fallback_ids =['606', '607', '608', '609', '610', '611', '612', '613', '614']

游泳馆&nbsp;二楼羽毛球.html
fallback_ids =['587', '588', '589', '590', '591', '592', '593', '594', '595']

游泳馆&nbsp;游泳池.html
fallback_ids =['550']

西区体育馆&nbsp;乒乓球2（网上）.html
fallback_ids =['625', '626', '627', '628', '629', '630', '631', '632', '633']

西区操场&nbsp;西边网球场1小时场.html
fallback_ids =['666', '667']

西区操场&nbsp;西边网球场2小时场.html
fallback_ids =['271', '272']
```



**关于“8点能否准时开枪”**

- 现在脚本内置“08:00开枪”调度逻辑，能在 08:00:00 前进入加速状态并在 08:00 附近以 50ms–100ms 的节奏冲刺查询与提交。
- 建议运行方式
  - 在当天早上 7:55–7:59 启动脚本，完成登录与交互配置，脚本会自动在 08:00 附近切换到高频模式抢“后天”的场地。
  - 目标时段选择“08:00–10:00”时，脚本会针对对应场地 ID 构造合并 payload，缩短响应回合。
  使用建议

- 首次运行建议选择“学生(1)”身份，之后若与同伴身份不同影响并不大，但请与实际预约身份一致。
- 如果在 08:00 附近仍出现“系统繁忙”，建议重启一次浏览器窗口避免卡顿，或在 08:00 前 30 秒内保持脚本活跃以减少冷启动开销。



**打包文件：**

```
..\Scripts\pyinstaller.exe --noconsole --onefile --name 场地预约GUI.exe --icon 1.ico --add-data "resources\chrome-win64\chrome-win64;resources\chrome" --add-data "chromedriver.exe;resources\chromedriver.exe" --add-data "hust_cookies.json;hust_cookies.json" gui_launcher.py
```

其中项目已将chorme浏览器开发者版与对应的chormedriver.exe整合到exe文件中，使用exe文件不用考虑网页版本与网页驱动不适配的问题。如要使用自己的浏览器，请下载对应的浏览器驱动版本开发。



#### 使用教程

使用前请先确保安装好了chorm浏览器，以及对应版本的chormedriver.exe，并将chormedriver.exe放在main.py同目录下。官方下载地址：https://developer.chrome.com/docs/chromedriver

使用教程/image/image-20251231140711090.png

命令行版本：

![image-20260102212525982](image\image-20260102212525982.png)

GUI程序界面及功能介绍：

![image-20260102211224019](image\image-20260102211224019.png)

在查看场地ID列表，自定义选择可选场地id：

![image-20260102211247012](image\image-20260102211247012.png)

当为空时默认全部生效

登录：

点击登录按钮跳转到登录界面，手动登录成功后不要关闭网页

![image-20260102211448386](\image\image-20260102211448386.png)

开始预约：

选择好配置后点击开始抢购即可。由于预约时间段为早上8点到晚上22点，建议在当天上午8点前，提前5分钟，打开脚本开始抢购预热，以求到8点预约提高成功率。预约成功后会自动跳转到支付界面此时已经锁定场地，在手动支付成功后即真正预约成功了！！！






